============================= test session starts =============================
collecting ... collected 16 items

tests/test_core_loop.py::TestDatabaseSetup::test_init_db_creates_tables PASSED [  6%]
tests/test_core_loop.py::TestDatabaseSetup::test_create_campaign PASSED  [ 12%]
tests/test_core_loop.py::TestStateManager::test_ensure_campaign_exists_creates PASSED [ 18%]
tests/test_core_loop.py::TestStateManager::test_get_context_returns_valid_context PASSED [ 25%]
tests/test_core_loop.py::TestStateManager::test_record_turn_increments_count PASSED [ 31%]
tests/test_core_loop.py::TestProfileLoader::test_load_cowboy_bebop_profile PASSED [ 37%]
tests/test_core_loop.py::TestProfileLoader::test_load_nonexistent_profile_raises_without_fallback PASSED [ 43%]
tests/test_core_loop.py::TestProfileLoader::test_load_nonexistent_profile_falls_back PASSED [ 50%]
tests/test_core_loop.py::TestIntentClassifier::test_output_schema PASSED [ 56%]
tests/test_core_loop.py::TestIntentClassifier::test_system_prompt_exists PASSED [ 62%]
tests/test_core_loop.py::TestOutcomeJudge::test_output_schema PASSED     [ 68%]
tests/test_core_loop.py::TestOutcomeJudge::test_system_prompt_exists PASSED [ 75%]
tests/test_core_loop.py::TestIntentOutput::test_valid_intent_output PASSED [ 81%]
tests/test_core_loop.py::TestIntentOutput::test_epicness_bounds PASSED   [ 87%]
tests/test_core_loop.py::TestOutcomeOutput::test_valid_outcome_output PASSED [ 93%]
tests/test_core_loop.py::TestOutcomeOutput::test_optional_fields PASSED  [100%]

============================== warnings summary ===============================
src\settings\models.py:159
  C:\Users\admin\Downloads\animerpg\aidm_v3\src\settings\models.py:159: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class UserSettings(BaseModel):

tests/test_core_loop.py: 11 warnings
  C:\Users\admin\Downloads\animerpg\aidm_v3\venv313\Lib\site-packages\sqlalchemy\sql\schema.py:3624: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
    return util.wrap_callable(lambda ctx: fn(), fn)  # type: ignore

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
======================= 16 passed, 12 warnings in 0.56s =======================
